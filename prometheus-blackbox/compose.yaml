services:
  prometheus:
    image: quay.io/prometheus/prometheus@sha256:565ee86501224ebbb98fc10b332fa54440b100469924003359edf49cbce374bd
    container_name: prometheus
    depends_on:
      - blackbox_exporter
    command:
      - '--config.file=/etc/prometheus/prometheus.yaml'
    ports:
      - 9090:9090
    restart: unless-stopped
    read_only: true
    volumes:
      - ./prometheus:/etc/prometheus:ro
      - prom_data:/prometheus:rw
  blackbox_exporter:
    image: quay.io/prometheus/blackbox-exporter@sha256:a50c4c0eda297baa1678cd4dc4712a67fdea713b832d43ce7fcc5f9bea05094d
    container_name: blackbox_exporter
    command:
      - '--config.file=/etc/blackbox_exporter/blackbox.yaml'
    ports:
      - 9115:9115
    restart: unless-stopped
    read_only: true
    volumes:
      - ./blackbox_exporter:/etc/blackbox_exporter:ro
volumes:
  prom_data:
